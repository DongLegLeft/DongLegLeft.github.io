<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Bobcat PGA Majors">
  <meta name="application-name" content="Bobcat PGA Majors">
  <meta name="theme-color" content="#000">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="icon" type="image/png" sizes="32x32" href="D3L.png">
  <link rel="icon" type="image/png" sizes="16x16" href="D3L.png">

  <link rel="apple-touch-icon" href="D3L.png">
  <link rel="apple-touch-icon" sizes="152x152" href="D3L.png">
  <link rel="apple-touch-icon" sizes="180x180" href="D3L.png">
  <link rel="apple-touch-icon" sizes="167x167" href="D3L.png">

  <link rel="shortcut icon" href="D3L.png">

  <link rel="manifest" href="manifest.json">

  <title>Dong Leg Left League</title>
  <style>
    /* ===================================
       General / Page Layout
    ==================================== */
    html, body {
      background-color: #000;
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      font-family: Arial, sans-serif;
      overscroll-behavior: none;
    }

    /* ===================
       Universal Styles
    ==================== */
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-text-size-adjust: none;
      text-size-adjust: none;
    }

    input, textarea {
      font-size: 16px;
    }

    /* ===================
       Main iframe
    ==================== */
    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
      overflow: auto;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #000;
      overscroll-behavior: none;
    }

    /* ===================
       Install Banner
    ==================== */
    #install-banner {
      display: none;
      text-align: center;
      width: 95%;
      min-width: 95%;
      max-width: 95%;
      margin: 0;
      position: fixed;
      bottom: 50%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 4px 1px 4px 4px;
      border: 4px solid #95c845;
      border-radius: 24px;
      box-shadow: inset -3px -3px 4px 1px rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.9) 0px 10px 13px;
      z-index: 1001;
    }

    #install-banner button {
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      background-color: #95c845;
      color: white;
      padding: 0;
      font-weight: 900;
      cursor: pointer;
      border: none;
      border-radius: 7px;
      box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.9);
      height: 35px;
      width: 90px;
    }

    /* ===================
       iOS Install Banner
    ==================== */
    #ios-install-banner {
      display: none;
      margin: 0;
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translate(-50%);
      background: rgba(0, 0, 0, 0.9);
      color: white;
      padding: 4px 1px 4px 4px;
      border: 4px solid #95c845;
      border-radius: 24px;
      box-shadow: inset -3px -2px 3px 1px rgba(0, 0, 0, 0.3), 5px 5px 13px 1px rgba(0, 0, 0, 1);
      z-index: 1001;
      text-align: left;
      width: 96%;
      min-width: 96%;
      max-width: 96%;
    }

    #ios-install-banner button {
      position: absolute;
      top: 7px;
      right: 6px;
      background: transparent;
      border: 3px solid #95c845;
      width: 30px;
      height: 30px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      border-radius: 8px;
    }

    /* ===================
       Banner Header/Icon
    ==================== */
    h3 {
      margin: 5px 0 8px 0;
      font-size: 20px;
      font-weight: bold;
      display: flex;
      align-items: center;
    }
    #install-banner h3 {
      margin: 5px 0 -5px 0;
    }
    .install-icon-header {
    padding: 3px 0px;
    width: 45px;
    height: auto;
    margin: 0 8px 0 3px;
    vertical-align: middle;
    outline: 2px solid #95c845;
    border-radius: 8px;
    box-shadow: inset -3px -2px 3px 1px rgba(0, 0, 0, 0.3);
    object-fit: contain;
    }

    /* ===================
      Install Details
    ==================== */
    .install-details-header {
      margin: 0 0 7px 0;
      font-size: 16px;
      display: flex;
      align-items: center;
      display: block;
    }
    .install-details {
      font-size: 15px;
      align-items: center;
      justify-content: flex-start;
      padding: 0 0 0 13px;
      align-content: center;
      line-height: 23px;
      margin: 0px;
      display: block;
    }
    strong {
      font-size: 17px;
    }
    .install-icon {
      width: 22px;
      height: 22px;
      object-fit: contain;
      vertical-align: text-bottom;
      padding: 0 4px;
    }

    /* ===================
       Notification Styles
    ==================== */
    .notification {
      margin: 0 0 15px 0;
      font-size: 18px;
      width: 350px;
    }
    .notification-button {
      background-color: rgba(0, 0, 0, .9);
      color: #95c845;
      padding: 6px 0;
      font-weight: 900;
      cursor: pointer;
      flex: 1;
      width: 83px;
      margin: 0 auto;
      border: 4px solid;
      border-radius: 9px;
      box-shadow: inset -3px -3px 4px 1px rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9) 0px 3px 4px;
    }
    .notification-button:hover {
      background-color: #95c845;
      color: white;
      border: none;
    }

    /* ===================
       Preloader Styles
    ==================== */
    #preloader {
      display: none;
    }

    @media (max-width: 1100px) {
      #preloader {
        position: fixed;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, .95);
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        z-index: 9999;
        overflow: visible;
        pointer-events: none;
        transition: all 3s ease-in-out;
      }
       .pre-load-fade-out {
        opacity: 0;
        transition: opacity 4s ease-out;
        pointer-events: none;
      }
      .preloader-fade-out {
        opacity: .0;
        background: #000 !important;
        transform: scale(54) translateY(-255px);
      }

      .d3l-logo {
        filter: drop-shadow(0px 0px 20px #95c845) drop-shadow(0px 0px 10px #000);
        object-fit: contain;
        height: 200px;
        width: auto;
        padding: 23px;
        background: transparent;
        opacity: 0;
        animation: fadeIn 1s ease forwards;
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(18px); }
        to { opacity: 1; transform: translateY(0); }
      }

  </style>
</head>

<body>

  
  <div id="preloader">
    <img src="D3L.png" class="d3l-logo" alt="D3L Logo">
<!--     <div id="preloader-text">
      <span class="top-text">125th</span>
       </br>
        <span class="us-text">US</span><span class="open-text">OPEN</span>
        </br>
        <span class="course-text">Oakmont Country Club • Oakmont, Pa. • June 12 - 15</span>
    </div> -->
  </div>

  <!-- =======================
       Install Banner Section
  ======================== -->
  <div id="install-banner" role="dialog" aria-labelledby="install-banner-title">
    <h3 id="install-banner-title">
      <img src="D3L.png" class="install-icon-header" alt="D3L Logo">
      Install 'Pick 6' on your device.
    </h3>
    <!-- <p style="margin: 5px;">Add 'D3L' to Home Screen for the best experience</p> -->
    <button id="install-button" aria-label="Add app to home screen">ADD</button>
    <button id="dismiss-button" aria-label="Dismiss install prompt">DISMISS</button>
  </div>

  <!-- =======================
       iOS Install Banner Section
  ======================== -->
  <div id="ios-install-banner" role="dialog" aria-labelledby="ios-install-banner-title">
    <button id="ios-install-close" aria-label="Close iOS install banner">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="#95c845" height="27" width="27" aria-hidden="true">
        <path stroke="#95c845" stroke-width="2"
          d="M3.6466666666666665 3.6466666666666665a0.5 0.5 0 0 1 0.7066666666666667 0L8 7.293333333333333l3.6466666666666665 -3.6466666666666665a0.5 0.5 0 1 1 0.7066666666666667 0.7066666666666667L8.706666666666667 8l3.6466666666666665 3.6466666666666665a0.5 0.5 0 1 1 -0.7066666666666667 0.7066666666666667L8 8.706666666666667l-3.6466666666666665 3.6466666666666665a0.5 0.5 0 0 1 -0.7066666666666667 -0.7066666666666667L7.293333333333333 8 3.6466666666666665 4.3533333333333335a0.5 0.5 0 0 1 0 -0.7066666666666667Z">
        </path>
      </svg>
    </button>
    <h3 id="ios-install-banner-title">
      <img src="D3L.png" class="install-icon-header" alt="D3L Logo">
      Install 'D3L' on your device.
    </h3>
    <p class="install-details">
      1. Tap the <strong>Share</strong> icon.
      <img src="https://raw.githubusercontent.com/BobcatPGAMajors/BobcatPGAMajors.github.io/refs/heads/main/shareIcon.png" alt="Share icon" class="install-icon">
    </p>
    <p class="install-details">
      2. Select <strong>Add to Home Screen</strong>.
      <img src="https://raw.githubusercontent.com/joespick6/joespick6.github.io/refs/heads/main/HomeScreenIcon.png" alt="Home Screen icon" class="install-icon">
    </p>
    <p class="install-details" style="margin-bottom: 8px;">3. Tap <strong>Add</strong>.</p>
  </div>

  <!-- =======================
       Main App iframe
  ======================== -->
  <iframe
    id="sandboxFrame"
    title="Dong Leg Left League"
    src="https://script.google.com/macros/s/AKfycbz7zyx-Duk4PtSMjQfnYDZvvPJfxBeutuDngO8O99vqRlbDxetXxN5qngbNPwjNTa6O/exec"
    frameborder="0"
    scrolling="yes"
    allow="accelerometer *; ambient-light-sensor *; autoplay *; camera *; clipboard-read *; clipboard-write *; encrypted-media *; fullscreen *; geolocation *; gyroscope *; magnetometer *; microphone *; midi *; payment *; picture-in-picture *; screen-wake-lock *; speaker *; sync-xhr *; usb *; web-share *; vibrate *; vr *"
    sandbox="allow-downloads allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-storage-access-by-user-activation"
    loading="eager">
  </iframe>
  
  <script>
 document.addEventListener('DOMContentLoaded', function () {
      const preloader = document.getElementById('preloader');
      const iframe = document.querySelector('iframe');
      iframe.onload = function () {
        setTimeout(() => {
          preloader.classList.add('preloader-fade-out');
          setTimeout(() => {
            preloader.style.display = 'none';
          }, 2000);
        }, 1500);
      };
    });

    
function isDesktop() {
    const userAgent = navigator.userAgent.toLowerCase();
    // Check for common desktop-specific keywords in userAgent
    const isDesktopUA = /windows nt|macintosh|linux/i.test(userAgent) && !/mobile|android|iphone|ipad|ipod/i.test(userAgent);
    // Optionally, check screen width (e.g., > 1024px for desktop)
    const isLargeScreen = window.innerWidth > 1024;
    return isDesktopUA && isLargeScreen;
}

function isAndroid() {
    return /Android/i.test(navigator.userAgent);
}

// Updated setupInstallPrompt function
function setupInstallPrompt() {
    const installBanner = document.getElementById('install-banner');
    const iosInstallBanner = document.getElementById('ios-install-banner');
    const installButton = document.getElementById('install-button');
    const dismissButton = document.getElementById('dismiss-button');
    const iosCloseButton = document.getElementById('ios-install-close');

    // If on desktop, hide both banners and exit
    if (isDesktop()) {
        installBanner.style.display = 'none';
        iosInstallBanner.style.display = 'none';
        return;
    }

    // If already installed (standalone mode), hide both banners
    if (isStandalone()) {
        installBanner.style.display = 'none';
        iosInstallBanner.style.display = 'none';
        return;
    }

    // Platform-specific handling for non-desktop devices
    if (isIOS()) {
        iosInstallBanner.style.display = 'block'; // Show iOS banner with instructions

        // Close button (X): Hide the banner
        iosCloseButton.addEventListener('click', () => {
            iosInstallBanner.style.display = 'none';
        });
    } else {
        // Android/PC: Show install banner when beforeinstallprompt fires
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installBanner.style.display = 'block';
        });
    }

    // Install button for Android/PC
    installButton.addEventListener('click', () => {
        if (deferredPrompt) {
            installBanner.style.display = 'none';
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('User accepted the install prompt');
                } else {
                    console.log('User dismissed the install prompt');
                }
                deferredPrompt = null;
            });
        }
    });

    // Dismiss button for Android/PC banner
    dismissButton.addEventListener('click', () => {
        installBanner.style.display = 'none';
    });
}

document.addEventListener('DOMContentLoaded', () => {
    setupInstallPrompt();

});

// Platform detection functions (unchanged)
function isIOS() {
    return /iPhone|iPad|iPod/i.test(navigator.userAgent);
}

function isStandalone() {
    return window.matchMedia('(display-mode: standalone)').matches;
}

  </script>
</body>

</html>
